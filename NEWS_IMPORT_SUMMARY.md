# ‚úÖ –ú–æ–¥—É–ª—å –∏–º–ø–æ—Ä—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π - –û–±–Ω–æ–≤–ª–µ–Ω –∏ —É–ª—É—á—à–µ–Ω

## üéØ –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π ‚Üí ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ë—ã–ª–æ**: –¢–µ–∫—Å—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–µ (–∫—Ä–∞–∫–æ–∑—è–±—Ä—ã –≤–º–µ—Å—Ç–æ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã)
**–°—Ç–∞–ª–æ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ UTF-8 –∏ Windows-1251

### 2. ‚ùå –û–¥–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ë—ã–ª–æ**: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
**–°—Ç–∞–ª–æ**: –ò–º–ø–æ—Ä—Ç –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ –ø–æ—Å—Ç–∞ (–¥–æ 20 —à—Ç—É–∫) —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –≥–∞–ª–µ—Ä–µ–µ–π

### 3. ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ ‚Üí ‚úÖ –†–ê–°–®–ò–†–ï–ù–û
**–ë—ã–ª–æ**: –¢–æ–ª—å–∫–æ VK –∏ Telegram
**–°—Ç–∞–ª–æ**: VK, Telegram, –∏ –ª—é–±—ã–µ —Å–∞–π—Ç—ã —Å Open Graph –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

## üì¶ –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### Backend (Supabase)

#### 1. –ù–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
**–§–∞–π–ª**: `supabase/migrations/20260131160000_add_post_media.sql`
- –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ `post_media` –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (RLS)
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

#### 2. –£–ª—É—á—à–µ–Ω–Ω–∞—è Edge Function
**–§–∞–π–ª**: `supabase/functions/fetch-metadata/index.ts`
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–∏
- ‚úÖ –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ (UTF-8 / Windows-1251)
- ‚úÖ –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ HTML-—Å—É—â–Ω–æ—Å—Ç–µ–π
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∞—Ä—Å–µ—Ä—ã –¥–ª—è Telegram –∏ VK
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Open Graph –¥–ª—è –ª—é–±—ã—Ö —Å–∞–π—Ç–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### Frontend (React)

#### 1. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –∏–º–ø–æ—Ä—Ç–∞
**–§–∞–π–ª**: `src/pages/AdminNews.tsx`
- ‚úÖ –ü–æ–ª–µ `mediaList` –¥–ª—è –º–∞—Å—Å–∏–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π UI —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏

## üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ü–µ—Ä–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí –æ–±–ª–æ–∂–∫–∞ –Ω–æ–≤–æ—Å—Ç–∏
- –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Üí –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –≥–∞–ª–µ—Ä–µ—è —Å –ø—Ä–µ–≤—å—é
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–∏—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–æ—Ç–æ

### 2. –£–ª—É—á—à–µ–Ω–Ω—ã–π –∏–º–ø–æ—Ä—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞
- –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞
- –í—Å–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞

### 3. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **Telegram**: –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **VK**: –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞  
- **–õ—é–±—ã–µ —Å–∞–π—Ç—ã**: —á–µ—Ä–µ–∑ Open Graph

## üì∏ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
–ò–º–ø–æ—Ä—Ç –∏–∑ Telegram:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: ‚úÖ
- –¢–µ–∫—Å—Ç: ‚ùå (–∫—Ä–∞–∫–æ–∑—è–±—Ä—ã)
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: ‚ùå (—Ç–æ–ª—å–∫–æ 1)
```

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
–ò–º–ø–æ—Ä—Ç –∏–∑ Telegram:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: ‚úÖ "–ì–æ—Ä—è—á–∏–π –ö–ª—é—á LIFE"
- –¢–µ–∫—Å—Ç: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–∏—Ä–∏–ª–ª–∏—Ü–∞
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: ‚úÖ –í—Å–µ 3 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
- –ì–∞–ª–µ—Ä–µ—è: ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø—Ä–µ–≤—å—é
```

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä** (—É–∂–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:8080)
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** ‚Üí –ù–æ–≤–æ—Å—Ç–∏ ‚Üí –î–æ–±–∞–≤–∏—Ç—å
3. **–í—Å—Ç–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Å—ã–ª–∫—É**:
   - Telegram: `https://t.me/life_news_gk/45392`
   - VK: –ª—é–±–∞—è –ø—É–±–ª–∏—á–Ω–∞—è —Å—Å—ã–ª–∫–∞
4. **–ù–∞–∂–º–∏—Ç–µ "–ò–º–ø–æ—Ä—Ç"**
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
   - –¢–µ–∫—Å—Ç –±–µ–∑ –∫—Ä–∞–∫–æ–∑—è–±—Ä ‚úÖ
   - –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã ‚úÖ
   - –ì–∞–ª–µ—Ä–µ—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–≤—å—é ‚úÖ

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**: `NEWS_IMPORT_GUIDE.md`
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é**: `DEPLOY_NEWS_IMPORT.md`

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
1. –ü—Ä–æ–±—É–µ–º UTF-8
2. –ï—Å–ª–∏ –µ—Å—Ç—å ÔøΩ, –ø—Ä–æ–±—É–µ–º Windows-1251
3. –î–µ–∫–æ–¥–∏—Ä—É–µ–º HTML-—Å—É—â–Ω–æ—Å—Ç–∏
```

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```typescript
// –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
1. Platform-specific (Telegram/VK –ø–∞—Ä—Å–µ—Ä—ã)
2. Open Graph (og:image)
3. –í—Å–µ <img> —Ç–µ–≥–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
```sql
-- –ì–ª–∞–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
posts.image_url ‚Üí –ø–µ—Ä–≤–æ–µ —Ñ–æ—Ç–æ

-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
post_media ‚Üí –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ú–∏–≥—Ä–∞—Ü–∏—è –ë–î**: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é `20260131160000_add_post_media.sql`
2. **Edge Function**: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `fetch-metadata`
3. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –°—Ç–∞—Ä—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –ú–æ–¥—É–ª—å –∏–º–ø–æ—Ä—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π —Ç–µ–ø–µ—Ä—å:
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∏—Ä–∏–ª–ª–∏—Ü—É
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
- ‚úÖ –ò–º–µ–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–π UI

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ production —Å–æ–≥–ª–∞—Å–Ω–æ `DEPLOY_NEWS_IMPORT.md`
