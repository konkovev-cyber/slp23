# Руководство по тестированию и проверке функционала (School Platform)

Это руководство поможет вам проверить последние изменения и убедиться, что логика работы "Журнал -> Дневник -> Домашнее задание" работает корректно для всех ролей.

## 1. Проверка Аватарок (Все роли)
1. Зайдите под любым пользователем (например, ученик или учитель).
2. Перейдите в профиль (обычно через меню в шапке или по ссылке `/school/profile`).
3. Нажмите кнопку **"Редактировать"** (или иконку настроек).
4. В разделе "Выберите персонажа" вы должны увидеть новые мультяшные аватарки (не только DiceBear, но и новые загруженные варианты).
5. Выберите один из них и сохраните. Аватар должен обновиться.

## 2. Проверка связки "Журнал -> Дневник" (Роль: Учитель)
**Задача:** Убедиться, что при переходе из журнала к ученику открывается именно тот день, когда была выставлена оценка.

1. **Войдите как Учитель**.
2. Перейдите в **"Журнал преподавателя"** (`/school/teacher/journal`).
3. Выберите предмет и класс.
4. Выберите дату в прошлом (например, вчера или неделю назад), где есть оценка или поставьте новую.
5. Нажмите на **Оценку** в таблице (откроется история оценок).
6. В открывшемся окне "История" нажмите кнопку **"Полный табель"**.
7. **Ожидаемый результат:** 
   - Вас перенаправит на страницу "Дневник ученика".
   - **Важно:** В дневнике должна быть выбрана **та самая дата**, которую вы смотрели в журнале (а не "сегодня").
   - Вы должны увидеть эту оценку и домашнее задание за этот день.

## 3. Проверка логики "Домашнее задание"
**Логика:** Учитель задает ДЗ -> Ученик видит его в дневнике на дату сдачи.

1. **Как Учитель:**
   - Перейдите в "Домашние задания" (`/school/teacher/homework`).
   - Создайте задание для класса на определенную дату (Дата сдачи).
2. **Как Ученик (или через кнопку "Полный табель" учителя):**
   - Перейдите в Дневник.
   - Выберите дату сдачи задания.
   - Задание должно отображаться в карточке урока.

## 4. Как протестировать под разными ролями?
Так как у вас (вероятно) включен "авто-вход" или вы один пользователь, используйте следующие методы:
*   **Режим инкогнито:** Откройте вкладку инкогнито и войдите под другим аккаунтом (если есть тестовые данные).
*   **Разные браузеры:** Используйте Chrome для учителя, Edge для ученика.
*   **Создание тестовых данных:**
    *   Если у вас нет тестовых пользователей, мы ранее создали миграцию `20260201100000_populate_test_data.sql`. 
    *   Вы можете выполнить этот SQL запрос в вашей панели Supabase (SQL Editor), чтобы создать учителей и учеников, если их еще нет.

## 5. Если что-то не работает
*   Если при переходе в дневник дата "сегодняшняя", а не та, что была выбрана — сообщите, мы проверим чтение параметров URL.
*   Если аватарки не грузятся (битые ссылки) — сообщите, мы заменим источники картинок.
